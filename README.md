# 뉴 더 그레잇 디리버리 시스템

## 프로젝트 소개
**프로젝트 이름**: 뉴 더 그레잇 디리버리 시스템  
**한 줄 정리**: 배달 앱 기능 만들어보기  
**내용**: 우리의 배달 시스템 프로젝트는 음식, 소매, 물류 등 다양한 배달 서비스의 효율성을 극대화하고, 고객과 사업자 모두에게 편리한 통합 배달 관리 솔루션을 제공하는 것을 목표로 합니다.  
**GITHUB**: [Sparta-Delivery-Services](https://github.com/fierceCry/Sparta-Delivery-Services)

## 팀원 소개
- **팀장**: 이지훈
- **팀원**: 김만규, 이수빈, 전수원, 조규민

## 개발 기간
24.06.17 ~ 24.06.21

## 개발 환경
- **운영체제**: MAC/WINDOW
- **FRONTEND**: 미정
- **BACKEND**: PRISMA, REDIS, WEBSOCKET, NODEJS, EXPRESS
- **TOOL**: VSCODE, INSOMNIA, POSTMAN
- **PUBLISH**: PM2, AWS/RDS, AWS/EC2

## 역할 분배
- **김만규**: 회원가입, 로그인, 이메일 인증 기능, 알림 기능
- **이지훈**: 검색기능, 주문 및 배달 상태 기능
- **전수원**: 사용자 및 업장 CRUD와 음식점 랭킹기능
- **이수빈**: 리뷰 CRUD
- **조규민**: 음식점 메뉴 CRUD

## API 명세서, ERD, 와이어프레임
- **와이어프레임**: 

[Figma](https://www.figma.com/file/IjCaHI8oZEAxUqj32tJKFx?type=design%27&node-id=0:1)

- **ERD**: 

[DrawSQL](https://drawsql.app/teams/-1385/diagrams/-2)

- **API 명세서**: 

[Notion](https://teamsparta.notion.site/416d422bdfb54a398a48d5f27e274836?v=2881f05f3bb64764ab8122793294c982&pvs=4)

## 주요 기능 설명

### 1. REDIS를 이용한 이메일 인증
- **설명**: 회원 가입 시 이메일 인증을 통해 사용자의 신원을 확인합니다. REDIS를 사용하여 인증 코드를 저장하고, 일정 시간 내에 인증이 완료되지 않으면 인증 코드가 만료됩니다.
- **기술 스택**: REDIS, Node.js, Express
- **작동 방식**:
  1. 사용자가 이메일 주소를 입력하고 인증 요청을 보냅니다.
  2. 서버는 REDIS에 인증 코드를 저장하고, 사용자의 이메일로 인증 링크를 전송합니다.
  3. 사용자는 이메일의 링크를 클릭하여 인증을 완료합니다.

### 2. 풀텍스트 서치 기능을 이용한 검색 기능 구현
- **설명**: MySQL의 풀텍스트 인덱스를 사용하여 사용자가 입력한 키워드를 기반으로 빠르고 정확한 검색 결과를 제공합니다.
- **기술 스택**: MySQL, Prisma ORM, Node.js
- **작동 방식**:
  1. 데이터베이스에 풀텍스트 인덱스를 설정합니다.
  2. 사용자가 검색어를 입력하면, 서버는 풀텍스트 검색을 수행하여 관련 있는 결과를 반환합니다.
  3. 검색어의 길이 제한을 조정하여 2글자 이상의 검색어도 처리할 수 있도록 합니다.

### 3. AWS S3 방식을 이용한 이미지 업로드 구현
- **설명**: 사용자가 업로드한 이미지를 AWS S3에 저장하여, 이미지 관리 및 제공을 효율적으로 처리합니다.
- **기술 스택**: AWS S3, Node.js, Multer
- **작동 방식**:
  1. 사용자가 이미지를 업로드합니다.
  2. 서버는 Multer 미들웨어를 사용하여 이미지를 처리하고 AWS S3 버킷에 저장합니다.
  3. 업로드된 이미지의 URL을 데이터베이스에 저장하여 필요할 때 이미지를 불러올 수 있습니다.

### 4. 웹소켓을 활용한 알림 기능 구현
- **설명**: 실시간 알림 기능을 구현하여 사용자에게 즉각적인 피드백을 제공합니다.
- **기술 스택**: WebSocket, Node.js
- **작동 방식**:
  1. 클라이언트와 서버 간의 WebSocket 연결을 설정합니다.
  2. 특정 이벤트(예: 주문 상태 변경, 메시지 수신 등)가 발생할 때 서버는 해당 사용자에게 실시간으로 알림을 전송합니다.
  3. 클라이언트는 알림을 수신하고, 사용자 인터페이스에 알림을 표시합니다.

## 어려웠던 점
1. **Git 충돌 해결**: Git 충돌이 발생하여 해결하는 데 시간이 오래 걸렸지만, 팀원들과 소통하며 문제를 해결했습니다.
2. **주문 과정 구현**: 주문 과정을 구현하기 위한 스키마 모델을 구상하고 실제 코드에 적용하는 과정이 어려웠습니다.
3. **코드 작성**: 변수명과 함수명을 RESTful하게 작성하는 법과 불필요한 코드를 줄이는 과정이 어려웠습니다.
4. **3Layered Architecture Pattern과 의존성 주입**: 3Layered Architecture Pattern과 의존성 주입에 대해 완전히 이해하지 못해 어려움을 겪었습니다.
5. **AWS S3 이미지 업로드**: AWS S3를 사용하여 이미지 업로드 기능의 흐름을 이해하는 데 어려움이 있었습니다.